---
phase: 4
plan: 2
wave: 2
---

# Plan 4.2: Auth Provider & Private Routing

## Objective
Implement Authentication context to handle JWT storage (localStorage), user session state, and protect private routes.

## Context
- `api/auth.routes.js`
- `web/src/App.jsx`

## Tasks

<task type="auto">
  <name>Auth Service & Context</name>
  <files>
    - web/src/services/auth.service.js
    - web/src/context/AuthContext.jsx
  </files>
  <action>
    - Create `auth.service.js` with `login(email, password)` calling the API.
    - Create `AuthContext.jsx` to wrap the app, exposing `user`, `token`, `login`, and `logout`.
  </action>
  <verify>ls web/src/context/AuthContext.jsx</verify>
  <done>Global Auth state is available.</done>
</task>

<task type="auto">
  <name>LoginPage & PrivateRoute</name>
  <files>
    - web/src/pages/Login.jsx
    - web/src/components/PrivateRoute.jsx
  </files>
  <action>
    - Build a premium Login page with Tailwind.
    - Implement `PrivateRoute.jsx` wrapper that redirects to `/login` if not authenticated.
  </action>
  <verify>grep "PrivateRoute" web/src/App.jsx</verify>
  <done>Login flow and route protection implemented.</done>
</task>

## Success Criteria
- [ ] Users can log in using seeded credentials.
- [ ] JWT is stored in localStorage and attached to headers in subsequent requests.
- [ ] Unauthorized users cannot access the Dashboard.
